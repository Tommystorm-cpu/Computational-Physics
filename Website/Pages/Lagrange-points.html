<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="../CSS/index.css"/>
    <title>BPHO Orbits</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="title" content="BPHO Computational Challenge - Orbits">
    <meta name="description" content="A website created for entry in the 2023 BPHO Computational Challenge by Thomas Davey and Alex Arnold">
    <meta name="keywords" content="python, orbits, orbit, bpho, physics, computational, oxford, 2023, wyedean, threejs, 3d, solar">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="author" content="Thomas Davey and Alex Arnold">
    <meta name="og:locale" content="en_GB">
    <meta name="og:type" content="website">
    <meta name="og:description" content="A website created for entry in the 2023 BPHO Computational Challenge by Thomas Davey and Alex Arnold">
    <meta name="og:title" content="BPHO Computational Challenge - Orbits">
    <meta name="og:url" content="https://bpho-orbits.com">
    <meta name="og:image" content="https://bpho-orbits.com/Website/Graphics/systemsim1.png">
    <meta name="og:site_name" content="BHPO Orbits by Tommy Davey &amp; Alex Arnold">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/bfdd83abfd.js" crossorigin="anonymous"></script>

    <script src="https://cdn.plot.ly/plotly-2.24.1.min.js" charset="utf-8"></script>

    <!--
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script> -->

    <style>
      .square {
        position: relative;
        width: 50%;
      }

      .square:after {
        content: "";
        display: block;
        padding-bottom: 100%;
      }
    </style>
  </head>

  <body class="gradient">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>

    <nav class="navbar navbar-expand-lg shadow-lg navbar-dark sticky-top" style="background-color: rgb(34, 34, 34)">
      <div class="container">
          <a class="navbar-brand" href="../../index.html">
            <img src="../Graphics/logo.png" alt="Home Button" width="65">
          </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item mx-3 nav-text">
                <a class="nav-link active text-white" aria-current="page" href="../../index.html">Home</a>
              </li>
              <li class="nav-item mx-3 nav-text">
                <a class="nav-link text-white" href="task-menu.html">Tasks</a>
              </li>
              <li class="nav-item mx-3 nav-text">
                <a class="nav-link text-white">Technical Report</a>
              </li>
              <li class="nav-item mx-3 nav-text">
                <a class="nav-link text-white">App Download</a>
              </li>
              <li class="nav-item mx-3 nav-text">
                <a class="nav-link d-lg-none text-white" target="_blank" href="https://github.com/Tommystorm-cpu/Computational-Physics">Github Repository</a>
              </li>
            </ul>
          </div>
          <a class="navbar-brand d-none d-lg-block" target="_blank" href="https://github.com/Tommystorm-cpu/Computational-Physics">
              <img src="../Graphics/github.png" alt="Github Button" width="50" height="50">
          </a>
      </div>
    </nav>

    <div class="mx-auto container mt-3" style="max-width: 40rem; width: 90%;">
      <div class="row">
        <a class="btn btn-primary col" href="goldilocks-zone.html"><i class="fa-solid fa-caret-down fa-rotate-90"></i> Goldilocks Zone</a>
        <h5 class="col text-white text-center my-auto">Lagrange Points</h5>
        <a class="btn btn-primary col" href="3d-sim-landing.html">System Simulator <i class="fa-solid fa-caret-down fa-rotate-270"></i></a>
      </div>
    </div>

    <py-config type="toml" class="m-0" style="visibility: hidden; height: 0%; position: absolute; z-index: -5;">
      packages = ["matplotlib", "numpy"]
  
      [[fetch]]
      from = '../Python'
      files = ["Lagrange_Points_Web.py"]
    </py-config>
  
    <div class="card task-content mx-auto bg-white mt-5" id="runArea"
      style="visibility: hidden; z-index: -5; position: absolute;">

      <div class="my-2 w-75 mx-auto">
        <label for="startPoint" class="form-label">Select Starting Point:</label>
        <select id="startPoint" class="form-select" aria-label="Default select example">
          <option>L1</option>
          <option>L2</option>
          <option>L3</option>
          <option selected>L4</option>
          <option>L5</option>
        </select>
      </div>

      <div class="mx-auto d-flex flex-column w-75">
        <label for="xDisplacement" class="form-label" id="xDisplacementLabel">X Displacement: -1.0e10 m</label>
        <input type="range" style="border-width: 0;" data-bs-theme="dark" class="form-range" value="-1" min="-5" max="5" step="0.1" id="xDisplacement">
  
        <label for="yDisplacement" class="form-label" id="yDisplacementLabel">Y Displacement: -1.0e10 m</label>
        <input type="range" style="border-width: 0;" data-bs-theme="dark" class="form-range" value="-1" min="-5" max="5" step="0.1" id="yDisplacement">
      </div>
  
      <button type="button" class="btn btn-primary w-75 mx-auto mb-2" py-click="load_solar()">Create Image</button>
  
  
      <div id="graph-area" class="d-flex align-items-center"></div>
  
      <py-script>
        import Lagrange_Points_Web as LPW
        import js
        import matplotlib.pyplot as plt
  
        def load_solar():
          xDisplacement = float(Element("xDisplacement").value) * 1e10
          yDisplacement = float(Element("yDisplacement").value) * 1e10
          startPoint = Element("startPoint").value
    
          #fig = BSW.binary_systems(semi_major, planet_start_distance, star1M, star2M, initv, starOrbit)
          fig = LPW.plot_orbit(xDisplacement, yDisplacement, startPoint)
          display(fig, target="graph-area", append=False)
          js.formatImage()
          plt.close(fig)
      </py-script>
  
      <script>
        function formatImage() {
          const graphArea = document.getElementById("graph-area");
          const child = graphArea.children[0];
          child.classList.add("img-fluid");
          child.classList.add("m-auto");
        }
  
        const xDisplacement = document.getElementById("xDisplacement");
        const xDisplacementLabel = document.getElementById("xDisplacementLabel")
        xDisplacement.oninput = () => {
          xDisplacementLabel.innerHTML = "X Displacement: ".concat(parseFloat(xDisplacement.value).toFixed(1)).concat("e10 m");
        }

        const yDisplacement = document.getElementById("yDisplacement");
        const yDisplacementLabel = document.getElementById("yDisplacementLabel")
        yDisplacement.oninput = () => {
          yDisplacementLabel.innerHTML = "Y Displacement: ".concat(parseFloat(yDisplacement.value).toFixed(1)).concat("e10 m");
        }
      </script>
    </div>
  
    <div class="card d-flex align-items-center mx-auto bg-white task-content mt-5" id="buttonArea">
      <button id="runButton" class="card-body btn btn-primary mx-auto my-5">Run in browser <i
          class="fa-solid fa-play"></i></button>
      <script>
        const runButton = document.getElementById("runButton");
        const runArea = document.getElementById("runArea");
        const buttonArea = document.getElementById("buttonArea");
        const header = document.getElementsByTagName("head")[0];
        runButton.onclick = () => {
          runArea.style.visibility = "visible"
          runArea.style.position = "relative"
          runArea.style.zIndex = "0"
          runArea.classList.add("mt-5")
  
          let pyLink = document.createElement('link');
          let pyScript = document.createElement('script');
          pyLink.rel = "stylesheet"
          pyLink.href = "https://pyscript.net/latest/pyscript.css"
          pyScript.src = "https://pyscript.net/latest/pyscript.js"
          pyScript.defer = true;
          header.appendChild(pyLink)
          header.appendChild(pyScript)
          buttonArea.remove();
        }
      </script>
    </div>

    <div class="mx-auto my-5 card task-content">
      <p class="mt-3 mx-auto" style="width: 95%;">Lagrange points are areas in space formed in any 2 body system. When a mass is at a lagrange point, it will not move relative to those two bodies. This simulation fixes the reference frame so that the two bodies appear stationary, and the test mass orbits relative to them. For this simulation, the masses of the Sun and Jupiter were used. The python scripts used to generate all of the images on this page can be found in our GitHub repository.</p>
      <hr class="my-0 mx-auto" style="width: 95%;">
      <div class="d-flex flex-wrap justify-content-center" style="width: 100%;">
        <div class="text-left my-auto py-3 mx-3" style="width: 30rem;">
          <p>
            The L points can be grouped into 2 categories, stable and unstable. L4 and L5 are stable, whereas points 1 through 3 are unstable. This is because of their effective potential:
          </p>
          <img src="../Graphics/Contour Plot.png" class="rounded-3 w-100">
          <p class="footer-text">A contour plot of effective potential</p>
          <p>As you can see, L4 and L5 form peaks, whereas L1, L2 and L3 form saddles. This may seem counterintuitive, as usually peaks of potential are unstable. However, as we are in a rotating reference frame, the coriolis force takes effect. This sends the mass into an orbit around the point, making them considered stable. So stable in fact, that asteroids often find themselves trapped within an L point. Jupiter has many such asteroids, called "trojan asteroids". The other lagrange points however need adjustment every 20 or so days in order to stay within them. However these points still reduce fuel consumption, and we have many monitoring stations and telescopes placed at points L1 and L2.</p>
        </div>
        
        <div class="my-auto mx-5" style="width: 40%; min-width: 18rem;">
          <img src="../Graphics/combine.png" class="rounded-3 w-100">
          <p class="footer-text">A graphic visualising how gravitational and rotational potential combine to create effective potential.</p>
          <div id="imageCarousel" class="carousel mx-auto slide my-auto w-100" data-bs-theme="dark">
            <div class="carousel-inner rounded-3">
              <div class="carousel-item active">
                <img src="../Graphics/lagrange-example-2.png" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img src="../Graphics/lagrange-example-1.png" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img src="../Graphics/lagrange-example-3.png" class="d-block w-100" alt="...">
              </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#imageCarousel" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#imageCarousel" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>
          <p class="footer-text">Example images generated on this page.</p>
        </div>
      </div>
    </div>

    <footer class="footer" style="background-color: rgb(34, 34, 34)">
      <div class="container-fluid">
        <div class="row">
          <p class="footer-text col mt-2">
            This website was created for the 2023 BPhO Computational Physics Challenge, by Thomas Davey and Alex Arnold.
          </p>
          <p class="footer-text col text-end mt-2">August 14th 2023</p>
        </div>
      </div>
    </footer>

  </body>
</html>